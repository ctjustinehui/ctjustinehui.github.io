var jsPsychFullscreen=function(e){"use strict";const t={name:"fullscreen",parameters:{fullscreen_mode:{type:e.ParameterType.BOOL,pretty_name:"Fullscreen mode","default":!0,array:!1},message:{type:e.ParameterType.HTML_STRING,pretty_name:"Message","default":"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:e.ParameterType.STRING,pretty_name:"Button label","default":"Continue",array:!1},delay_after:{type:e.ParameterType.INT,pretty_name:"Delay after","default":1e3,array:!1}}};class s{constructor(e){this.jsPsych=e,this.rt=null,this.start_time=0}trial(e,t){"undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element?this.endTrial(e,!1,t):t.fullscreen_mode?this.showDisplay(e,t):(this.exitFullScreen(),this.endTrial(e,!0,t))}showDisplay(e,t){e.innerHTML=`\n      ${t.message}\n      <button id="jspsych-fullscreen-btn" class="jspsych-btn">${t.button_label}</button>\n    `,e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",()=>{this.rt=Math.round(performance.now()-this.start_time),this.enterFullScreen(),this.endTrial(e,!0,t)}),this.start_time=performance.now()}endTrial(e,t,s){e.innerHTML="",this.jsPsych.pluginAPI.setTimeout(()=>{var e={success:t,rt:this.rt};this.jsPsych.finishTrial(e)},s.delay_after)}enterFullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(e,t,s,l){"data-only"==t&&(l(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,l)}create_simulation_data(e,t){const s={success:!0,rt:this.jsPsych.randomization.sampleExGaussian(1e3,100,.005,!0)};return this.jsPsych.pluginAPI.mergeSimulationData(s,t)}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const l=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement();!1===l.success?this.endTrial(n,!1,e):(this.trial(n,e),s(),this.jsPsych.pluginAPI.clickTarget(n.querySelector("#jspsych-fullscreen-btn"),l.rt))}}return s.info=t,s}(jsPsychModule);