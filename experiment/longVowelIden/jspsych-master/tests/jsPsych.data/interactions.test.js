const root="../../",utils=require("../testing-utils.js");describe("Data recording",function(){beforeEach(function(){require(root+"jspsych.js"),require(root+"plugins/jspsych-html-keyboard-response.js")}),test("record focus events",function(){var e=[{type:"html-keyboard-response",stimulus:"hello"}];jsPsych.init({timeline:e}),window.dispatchEvent(new Event("focus")),utils.pressKey(32),expect(jsPsych.data.getInteractionData().filter({event:"focus"}).count()).toBe(1)}),test("record blur events",function(){var e=[{type:"html-keyboard-response",stimulus:"hello"}];jsPsych.init({timeline:e}),window.dispatchEvent(new Event("blur")),utils.pressKey(32),expect(jsPsych.data.getInteractionData().filter({event:"blur"}).count()).toBe(1)}),test.skip("record fullscreenenter events",function(){var e=[{type:"html-keyboard-response",stimulus:"hello"}];jsPsych.init({timeline:e}),utils.pressKey(32)}),test.skip("record fullscreenexit events",function(){var e=[{type:"html-keyboard-response",stimulus:"hello"}];jsPsych.init({timeline:e}),utils.pressKey(32)})}),describe("on_interaction_data_update",function(){beforeEach(function(){require(root+"jspsych.js"),require(root+"plugins/jspsych-html-keyboard-response.js")}),test("fires for blur",function(){var e=jest.fn(),t=[{type:"html-keyboard-response",stimulus:"hello"}];jsPsych.init({timeline:t,on_interaction_data_update:e}),window.dispatchEvent(new Event("blur")),expect(e.mock.calls.length).toBeGreaterThanOrEqual(1),utils.pressKey(32)}),test("fires for focus",function(){var e=jest.fn(),t=[{type:"html-keyboard-response",stimulus:"hello"}];jsPsych.init({timeline:t,on_interaction_data_update:e}),window.dispatchEvent(new Event("focus")),expect(e.mock.calls.length).toBeGreaterThanOrEqual(1),utils.pressKey(32)}),test.skip("fires for fullscreenexit",function(){}),test.skip("fires for fullscreenenter",function(){})});