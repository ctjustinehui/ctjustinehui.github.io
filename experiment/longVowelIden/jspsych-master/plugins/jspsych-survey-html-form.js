jsPsych.plugins["survey-html-form"]=function(){function e(e){for(var t={},a=0;a<e.length;a++)t[e[a].name]=e[a].value;return t}var t={};t.info={name:"survey-html-form",description:"",parameters:{html:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"HTML","default":null,description:"HTML formatted string containing all the input elements to display. Every element has to have its own distinctive name attribute. The <form> tag must not be included and is generated by the plugin."},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble","default":null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Continue",description:"The text that appears on the button to finish the trial."},autofocus:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Element ID to focus","default":"",description:"The HTML element ID of a form field to autofocus on."},dataAsArray:{type:jsPsych.plugins.parameterType.BOOLEAN,pretty_name:"Data As Array","default":!1,description:'Retrieve the data as an array e.g. [{name: "INPUT_NAME", value: "INPUT_VALUE"}, ...] instead of an object e.g. {INPUT_NAME: INPUT_VALUE, ...}.'},autocomplete:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow autocomplete","default":!1,description:"Setting this to true will enable browser auto-complete or auto-fill for the form."}}},t.trial=function(t,r){var n="";if(null!==r.preamble&&(n+='<div id="jspsych-survey-html-form-preamble" class="jspsych-survey-html-form-preamble">'+r.preamble+"</div>"),r.autocomplete?n+='<form id="jspsych-survey-html-form">':n+='<form id="jspsych-survey-html-form" autocomplete="off">',n+=r.html,n+='<input type="submit" id="jspsych-survey-html-form-next" class="jspsych-btn jspsych-survey-html-form" value="'+r.button_label+'"></input>',n+="</form>",t.innerHTML=n,""!==r.autofocus){var o=t.querySelectorAll("#"+r.autofocus);0===o.length?console.warn("No element found with id: "+r.autofocus):o.length>1?console.warn('The id "'+r.autofocus+'" is not unique so autofocus will not work.'):o[0].focus()}t.querySelector("#jspsych-survey-html-form").addEventListener("submit",function(n){n.preventDefault();var o=performance.now()-s,l=a(this);r.dataAsArray||(l=e(l));var i={rt:o,response:l};t.innerHTML="",jsPsych.finishTrial(i)});var s=performance.now()};
/*!
   * Serialize all form data into an array
   * (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com
   * @param  {Node}   form The form to serialize
   * @return {String}      The serialized form data
   */
var a=function(e){for(var t=[],a=0;a<e.elements.length;a++){var r=e.elements[a];if(r.name&&!r.disabled&&"file"!==r.type&&"reset"!==r.type&&"submit"!==r.type&&"button"!==r.type)if("select-multiple"===r.type)for(var n=0;n<r.options.length;n++)r.options[n].selected&&t.push({name:r.name,value:r.options[n].value});else("checkbox"!==r.type&&"radio"!==r.type||r.checked)&&t.push({name:r.name,value:r.value})}return t};return t}();