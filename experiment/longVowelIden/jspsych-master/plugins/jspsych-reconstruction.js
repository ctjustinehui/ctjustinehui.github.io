jsPsych.plugins.reconstruction=function(){var e={};return e.info={name:"reconstruction",description:"",parameters:{stim_function:{type:jsPsych.plugins.parameterType.FUNCTION,pretty_name:"Stimulus function","default":undefined,description:"A function with a single parameter that returns an HTML-formatted string representing the stimulus."},starting_value:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Starting value","default":.5,description:"The starting value of the stimulus parameter."},step_size:{type:jsPsych.plugins.parameterType.FLOAT,pretty_name:"Step size","default":.05,description:"The change in the stimulus parameter caused by pressing one of the modification keys."},key_increase:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key increase","default":"h",description:"The key to press for increasing the parameter value."},key_decrease:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key decrease","default":"g",description:"The key to press for decreasing the parameter value."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Continue",description:"The text that appears on the button to finish the trial."}}},e.trial=function(e,t){function n(n){e.innerHTML='<div id="jspsych-reconstruction-stim-container">'+t.stim_function(n)+"</div>",e.innerHTML+='<button id="jspsych-reconstruction-next" class="jspsych-btn jspsych-reconstruction">'+t.button_label+"</button>",e.querySelector("#jspsych-reconstruction-next").addEventListener("click",s)}function s(){var n={rt:(new Date).getTime()-i,final_value:r,start_value:t.starting_value};e.innerHTML="",jsPsych.finishTrial(n)}var r=t.starting_value,a=function(e){var s="string"==typeof t.key_increase?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(t.key_increase):t.key_increase,a="string"==typeof t.key_decrease?jsPsych.pluginAPI.convertKeyCharacterToKeyCode(t.key_decrease):t.key_decrease;e.key==s?r+=t.step_size:e.key==a&&(r-=t.step_size),n(r=Math.max(Math.min(1,r),0))};jsPsych.pluginAPI.getKeyboardResponse({callback_function:a,valid_responses:[t.key_increase,t.key_decrease],rt_method:"date",persist:!0,allow_held_key:!0});n(r);var i=(new Date).getTime()},e}();