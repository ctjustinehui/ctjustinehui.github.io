jsPsych.plugins["html-keyboard-response"]=function(){var e={};return e.info={name:"html-keyboard-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"stimulus","default":undefined,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,array:!0,pretty_name:"Choices","default":jsPsych.ALL_KEYS,description:"The keys the subject is allowed to press to respond to the stimulus."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show trial before it ends."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, trial will end when subject makes a response."}}},e.trial=function(e,s){var t='<div id="jspsych-html-keyboard-response-stimulus">'+s.stimulus+"</div>";t+=s.prompt,e.innerHTML=t;var i={rt:-1,key:-1},r=function(){jsPsych.pluginAPI.clearAllTimeouts(),void 0!==l&&jsPsych.pluginAPI.cancelKeyboardResponse(l);var t={rt:i.rt,stimulus:s.stimulus,key_press:i.key};e.innerHTML="",jsPsych.finishTrial(t)},n=function(t){e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",-1==i.key&&(i=t),s.response_ends_trial&&r()};if(s.choices!=jsPsych.NO_KEYS)var l=jsPsych.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:s.choices,rt_method:"date",persist:!1,allow_held_key:!1});s.stimulus_duration>0&&jsPsych.pluginAPI.setTimeout(function(){e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"},s.stimulus_duration),s.trial_duration>0&&jsPsych.pluginAPI.setTimeout(function(){r()},s.trial_duration)},e}();