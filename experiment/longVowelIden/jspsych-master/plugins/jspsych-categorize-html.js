jsPsych.plugins["categorize-html"]=function(){var e={};return e.info={name:"categorize-html",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus","default":undefined,description:"The HTML content to be displayed."},key_answer:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key answer","default":undefined,description:"The key to indicate the correct response."},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":jsPsych.ALL_KEYS,array:!0,description:"The keys the subject is allowed to press to respond to the stimulus."},text_answer:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Text answer","default":"",description:"Label that is associated with the correct answer."},correct_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Correct text","default":"<p class='feedback'>Correct</p>",description:"String to show when correct answer is given."},incorrect_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Incorrect text","default":"<p class='feedback'>Incorrect</p>",description:"String to show when incorrect answer is given."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},force_correct_button_press:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct button press","default":!1,description:"If set to true, then the subject must press the correct response key after feedback in order to advance to next trial."},show_stim_with_feedback:{type:jsPsych.plugins.parameterType.BOOL,"default":!0,no_function:!1,description:""},show_feedback_on_timeout:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show feedback on timeout","default":!1,description:"If true, stimulus will be shown during feedback. If false, only the text feedback will be displayed during feedback."},timeout_message:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Timeout message","default":"<p>Please respond faster.</p>",description:"The message displayed on a timeout non-response."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show trial"},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration","default":2e3,description:"How long to show feedback."}}},e.trial=function(e,t){function s(s,i){if(i&&!t.show_feedback_on_timeout)e.innerHTML+=t.timeout_message;else{t.show_stim_with_feedback&&(e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>");var n="";n=s?t.correct_text.replace("%ANS%",t.text_answer):t.incorrect_text.replace("%ANS%",t.text_answer),e.innerHTML+=n}if(t.force_correct_button_press&&!1===s&&(i&&t.show_feedback_on_timeout||!i)){var a=function(){r()};jsPsych.pluginAPI.getKeyboardResponse({callback_function:a,valid_responses:[t.key_answer],rt_method:"date",persist:!1,allow_held_key:!1})}else jsPsych.pluginAPI.setTimeout(function(){r()},t.feedback_duration)}function r(){e.innerHTML="",jsPsych.finishTrial(i)}e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>",t.stimulus_duration>0&&jsPsych.pluginAPI.setTimeout(function(){e.querySelector("#jspsych-categorize-html-stimulus").style.visibility="hidden"},t.stimulus_duration),""!==t.prompt&&(e.innerHTML+=t.prompt);var i={},n=function(r){jsPsych.pluginAPI.clearAllTimeouts(),jsPsych.pluginAPI.cancelAllKeyboardResponses();var n=!1;t.key_answer==r.key&&(n=!0),i={rt:r.rt,correct:n,stimulus:t.stimulus,key_press:r.key},e.innerHTML="",s(n,-1==r.rt)};jsPsych.pluginAPI.getKeyboardResponse({callback_function:n,valid_responses:t.choices,rt_method:"date",persist:!1,allow_held_key:!1}),t.trial_duration>0&&jsPsych.pluginAPI.setTimeout(function(){n({key:-1,rt:-1})},t.trial_duration)},e}();