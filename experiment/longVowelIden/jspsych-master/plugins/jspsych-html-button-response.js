jsPsych.plugins["html-button-response"]=function(){var t={};return t.info={name:"html-button-response",description:"",parameters:{stimulus:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus","default":undefined,description:"The HTML string to be displayed"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":[],array:!0,description:"The labels for the buttons."},button_html:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button html","default":'<button class="jspsych-btn">%choice%</button>',array:!0,description:"The html of the button. Can create own style."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed under the button."},stimulus_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration","default":-1,description:"How long to hide the stimulus."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"How long to show the trial."},margin_vertical:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin vertical","default":"0px",description:"The vertical margin of the button."},margin_horizontal:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Margin horizontal","default":"8px",description:"The horizontal margin of the button."},response_ends_trial:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Response ends trial","default":!0,description:"If true, then trial will end when user responds."}}},t.trial=function(t,e){function n(n){var r=Date.now()-l;u.button=n,u.rt=r,t.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var i=document.querySelectorAll(".jspsych-html-button-response-button button"),o=0;o<i.length;o++)i[o].setAttribute("disabled","disabled");e.response_ends_trial&&s()}function s(){jsPsych.pluginAPI.clearAllTimeouts();var n={rt:u.rt,stimulus:e.stimulus,button_pressed:u.button};t.innerHTML="",jsPsych.finishTrial(n)}t.innerHTML='<div id="jspsych-html-button-response-stimulus">'+e.stimulus+"</div>";var r=[];if(Array.isArray(e.button_html))e.button_html.length==e.choices.length?r=e.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var i=0;i<e.choices.length;i++)r.push(e.button_html);t.innerHTML+='<div id="jspsych-html-button-response-btngroup"></div>';for(i=0;i<e.choices.length;i++){var o=r[i].replace(/%choice%/g,e.choices[i]);t.querySelector("#jspsych-html-button-response-btngroup").insertAdjacentHTML("beforeend",'<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+e.margin_vertical+" "+e.margin_horizontal+'" id="jspsych-html-button-response-button-'+i+'" data-choice="'+i+'">'+o+"</div>"),t.querySelector("#jspsych-html-button-response-button-"+i).addEventListener("click",function(t){n(t.currentTarget.getAttribute("data-choice"))})}""!==e.prompt&&t.insertAdjacentHTML("beforeend",e.prompt);var u={rt:-1,button:-1},l=0;l=Date.now(),e.stimulus_duration>0&&jsPsych.pluginAPI.setTimeout(function(){t.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"},e.stimulus_duration),e.trial_duration>0&&jsPsych.pluginAPI.setTimeout(function(){s()},e.trial_duration)},t}();