jsPsych.plugins["xab-html"]=function(){var t={};return t.info={name:"xab-html",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimuli",array:!0,"default":undefined,description:"Array of 2 or 3 paths to images."},left_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Left key","default":"q",description:"Which key the subject should press to indicate that the target is on the left side."},right_key:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Right key","default":"p",description:"Which key the subject should press to indicate that the target is on the right side."},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."},x_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"X duration","default":1e3,description:"How long to show the X stimulus for in milliseconds."},x_durationab_gap:{type:jsPsych.plugins.parameterType.INT,pretty_name:"X durationab gap","default":1e3,description:"How long to show a blank screen in between X and AB in milliseconds."},ab_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"AB duration","default":-1,description:"How long to show A and B in milliseconds."},trial_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration","default":-1,description:"The maximum duration to wait for a response."}}},t.trial=function(t,e){function i(){t.innerHTML="",jsPsych.pluginAPI.setTimeout(function(){s()},e.x_durationab_gap)}function s(){var i=[e.a_path,e.b_path],s=0===Math.floor(2*Math.random());s||(i=[e.b_path,e.a_path]),t.innerHTML+='<div class="jspsych-xab-stimulus left">'+i[0]+"</div>",t.innerHTML+='<div class="jspsych-xab-stimulus right">'+i[1]+"</div>",""!==e.prompt&&(t.innerHTML+=e.prompt),e.ab_duration>0&&jsPsych.pluginAPI.setTimeout(function(){for(var e=t.querySelectorAll(".jspsych-xab-stimulus"),i=0;i<e.length;i++)e[i].style.visibility="hidden"},e.ab_duration),e.trial_duration>0&&jsPsych.pluginAPI.setTimeout(function(){n({rt:-1,correct:!1,key:-1})},e.trial_duration);var a=function(t){var i=!1;t.key==e.left_key?s&&(i=!0):t.key==e.right_key&&(s||(i=!0)),t.correct=i,n(t)},n=function(i){jsPsych.pluginAPI.clearAllTimeouts(),jsPsych.pluginAPI.cancelKeyboardResponse(r);var s={rt:i.rt,correct:i.correct,stimulus:JSON.stringify([e.x_path,e.a_path,e.b_path]),key_press:i.key};t.innerHTML="",jsPsych.finishTrial(s)},r=jsPsych.pluginAPI.getKeyboardResponse({callback_function:a,valid_responses:[e.left_key,e.right_key],rt_method:"date",persist:!1,allow_held_key:!1})}e.x_path=e.stimuli[0],2==e.stimuli.length?(e.a_path=e.stimuli[0],e.b_path=e.stimuli[1]):(e.a_path=e.stimuli[1],e.b_path=e.stimuli[2]),t.innerHTML='<div class="jspsych-xab-stimulus" >'+e.x_path+"</div>",jsPsych.pluginAPI.setTimeout(function(){i()},e.x_duration)},t}();