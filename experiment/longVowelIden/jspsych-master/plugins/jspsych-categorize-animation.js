jsPsych.plugins["categorize-animation"]=function(){var e={};return jsPsych.pluginAPI.registerPreload("categorize-animation","stimuli","image"),e.info={name:"categorize-animation",description:"",parameters:{stimuli:{type:jsPsych.plugins.parameterType.IMAGE,pretty_name:"Stimuli","default":undefined,description:"Array of paths to image files."},key_answer:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key answer","default":undefined,description:"The key to indicate correct response"},choices:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices","default":jsPsych.ALL_KEYS,array:!0,description:"The keys subject is allowed to press to respond to stimuli."},text_answer:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Text answer","default":"",description:"Text to describe correct answer."},correct_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Correct text","default":"Correct.",description:"String to show when subject gives correct answer"},incorrect_text:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Incorrect text","default":"Wrong.",description:"String to show when subject gives incorrect answer."},frame_time:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Frame time","default":500,description:"Duration to display each image."},sequence_reps:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Sequence repetitions","default":1,description:"How many times to display entire sequence."},allow_response_before_complete:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow response before complete","default":!1,description:"If true, subject can response before the animation sequence finishes"},feedback_duration:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration","default":2e3,description:"How long to show feedback"},prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":"",description:"Any content here will be displayed below the stimulus."}}},e.trial=function(e,t){function r(){clearInterval(l),e.innerHTML="",jsPsych.finishTrial(y)}var s,n,i=-1,a=0,p=!0,o=!1,c=!1,l=((new Date).getTime(),setInterval(function(){if(e.innerHTML="",++i==t.stimuli.length&&(i=0,a++,-1!=t.sequence_reps&&a>=t.sequence_reps&&(p=!1)),p&&(e.innerHTML+='<img src="'+t.stimuli[i]+'" class="jspsych-categorize-animation-stimulus"></img>'),!o&&t.allow_response_before_complete)""!==t.prompt&&(e.innerHTML+=t.prompt);else if(o){var n="";n=s?t.correct_text.replace("%ANS%",t.text_answer):t.incorrect_text.replace("%ANS%",t.text_answer),e.innerHTML+=n,c||(c=!0,jsPsych.pluginAPI.setTimeout(function(){r()},t.feedback_duration))}else p||""!==t.prompt&&(e.innerHTML+=t.prompt)},t.frame_time)),y={},u=function(e){if(!t.allow_response_before_complete&&p)return!1;s=!1,t.key_answer==e.key&&(s=!0),o=!0,y={stimulus:JSON.stringify(t.stimuli),rt:e.rt,correct:s,key_press:e.key},jsPsych.pluginAPI.cancelKeyboardResponse(n)};n=jsPsych.pluginAPI.getKeyboardResponse({callback_function:u,valid_responses:t.choices,rt_method:"date",persist:!0,allow_held_key:!1})},e}();