jsPsych.plugins.instructions=function(){var e={};return e.info={name:"instructions",description:"",parameters:{pages:{type:jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Pages","default":undefined,array:!0,description:"Each element of the array is the content for a single page."},key_forward:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key forward","default":"rightarrow",description:"The key the subject can press in order to advance to the next page."},key_backward:{type:jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key backward","default":"leftarrow",description:"The key that the subject can press to return to the previous page."},allow_backward:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow backward","default":!0,description:"If true, the subject can return to the previous page of the instructions."},allow_keys:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Allow keys","default":!0,description:"If true, the subject can use keyboard keys to navigate the pages."},show_clickable_nav:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Show clickable nav","default":!1,description:'If true, then a "Previous" and "Next" button will be displayed beneath the instructions.'},button_label_previous:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label previous","default":"Previous",description:"The text that appears on the button to go backwards."},button_label_next:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label next","default":"Next",description:"The text that appears on the button to go forwards."}}},e.trial=function(e,t){function a(e){e.target.removeEventListener("click",a),"jspsych-instructions-back"===this.id?r():"jspsych-instructions-next"===this.id&&n()}function s(){if(e.innerHTML=t.pages[c],t.show_clickable_nav){var s="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>";0!=c&&t.allow_backward&&(s+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;'>&lt; "+t.button_label_previous+"</button>"),s+="<button id='jspsych-instructions-next' class='jspsych-btn' style='margin-left: 5px;'>"+t.button_label_next+" &gt;</button></div>",e.innerHTML+=s,0!=c&&t.allow_backward&&e.querySelector("#jspsych-instructions-back").addEventListener("click",a),e.querySelector("#jspsych-instructions-next").addEventListener("click",a)}}function n(){i(),++c>=t.pages.length?o():s()}function r(){i(),c--,s()}function i(){var e=(new Date).getTime(),t=e-y;p.push({page_index:c,viewing_time:t}),y=e}function o(){t.allow_keys&&jsPsych.pluginAPI.cancelKeyboardResponse(d),e.innerHTML="";var a={view_history:JSON.stringify(p),rt:(new Date).getTime()-l};jsPsych.finishTrial(a)}var c=0,p=[],l=(new Date).getTime(),y=l,u=function(e){d=jsPsych.pluginAPI.getKeyboardResponse({callback_function:u,valid_responses:[t.key_forward,t.key_backward],rt_method:"date",persist:!1,allow_held_key:!1}),e.key!==t.key_backward&&e.key!==jsPsych.pluginAPI.convertKeyCharacterToKeyCode(t.key_backward)||0!==c&&t.allow_backward&&r(),e.key!==t.key_forward&&e.key!==jsPsych.pluginAPI.convertKeyCharacterToKeyCode(t.key_forward)||n()};if(s(),t.allow_keys)var d=jsPsych.pluginAPI.getKeyboardResponse({callback_function:u,valid_responses:[t.key_forward,t.key_backward],rt_method:"date",persist:!1})},e}();