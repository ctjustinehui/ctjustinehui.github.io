jsPsych.plugins["survey-text"]=function(){var e={};return e.info={name:"survey-text",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions","default":undefined,nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":undefined,description:"Prompt for the subject to response"},value:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Value","default":"",description:"The string will be used to populate the response field with editable answer."},rows:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Rows","default":1,description:"The number of rows for the response text box."},columns:{type:jsPsych.plugins.parameterType.INT,pretty_name:"Columns","default":40,description:"The number of columns for the response text box."}}},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble","default":null,description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Continue",description:"The text that appears on the button to finish the trial."}}},e.trial=function(e,t){for(var s=0;s<t.questions.length;s++)"undefined"==typeof t.questions[s].rows&&(t.questions[s].rows=1);for(s=0;s<t.questions.length;s++)"undefined"==typeof t.questions[s].columns&&(t.questions[s].columns=40);for(s=0;s<t.questions.length;s++)"undefined"==typeof t.questions[s].value&&(t.questions[s].value="");var n="";null!==t.preamble&&(n+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+t.preamble+"</div>");for(s=0;s<t.questions.length;s++)n+='<div id="jspsych-survey-text-"'+s+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',n+='<p class="jspsych-survey-text">'+t.questions[s].prompt+"</p>",1==t.questions[s].rows?n+='<input type="text" name="#jspsych-survey-text-response-'+s+'" size="'+t.questions[s].columns+'" value="'+t.questions[s].value+'"></input>':n+='<textarea name="#jspsych-survey-text-response-'+s+'" cols="'+t.questions[s].columns+'" rows="'+t.questions[s].rows+'">'+t.questions[s].value+"</textarea>",n+="</div>";n+='<button id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text">'+t.button_label+"</button>",e.innerHTML=n,e.querySelector("#jspsych-survey-text-next").addEventListener("click",function(){for(var t=(new Date).getTime()-r,s={},n=e.querySelectorAll("div.jspsych-survey-text-question"),o=0;o<n.length;o++){var u="Q"+o,i=n[o].querySelector("textarea, input").value,p={};p[u]=i,Object.assign(s,p)}var a={rt:t,responses:JSON.stringify(s)};e.innerHTML="",jsPsych.finishTrial(a)});var r=(new Date).getTime()},e}();