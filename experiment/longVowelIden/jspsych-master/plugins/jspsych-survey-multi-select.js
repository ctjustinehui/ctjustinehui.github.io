jsPsych.plugins["survey-multi-select"]=function(){var e={};return e.info={name:"survey-multi-select",description:"",parameters:{questions:{type:jsPsych.plugins.parameterType.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt","default":undefined,description:"The strings that will be associated with a group of options."},options:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Options",array:!0,"default":undefined,description:"Displays options for an individual question."},horizontal:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Horizontal","default":!1,description:"If true, then questions are centered and options are displayed horizontally."}}},required:{type:jsPsych.plugins.parameterType.BOOL,pretty_name:"Required","default":!1,description:"Subject will be required to pick an option for each question."},preamble:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Preamble","default":"",description:"HTML formatted string to display at the top of the page above all the questions."},button_label:{type:jsPsych.plugins.parameterType.STRING,pretty_name:"Button label","default":"Continue",description:"Label of the button."}}},e.trial=function(e,t){var s="jspsych-survey-multi-select",r="#"+s,i=function(){return Array.prototype.slice.call(arguments,i.length).join(separator="-")};e.innerHTML='<style id="jspsych-survey-multi-select-css"></style>';var n=".jspsych-survey-multi-select-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-select-text span.required {color: darkred;}.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-text {  text-align: center;}.jspsych-survey-multi-select-option { line-height: 2; }.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-select-text input[type='checkbox'] {margin-right: 1em;}";e.querySelector("#jspsych-survey-multi-select-css").innerHTML=n;var l=i(s,"form");e.innerHTML+='<form id="'+l+'"></form>';var a=e.querySelector("#"+l),o=i(s,"preamble");a.innerHTML+='<div id="'+o+'" class="'+o+'">'+t.preamble+"</div>";for(var u=0;u<t.questions.length;u++){var p=[i(s,"question")];t.questions[u].horizontal&&p.push(i(s,"horizontal")),a.innerHTML+='<div id="'+i(s,u)+'" class="'+p.join(" ")+'"></div>';var c=i(r,u);e.querySelector(c).innerHTML+='<p id="survey-question" class="'+s+'-text survey-multi-select">'+t.questions[u].prompt+"</p>";for(var y=0;y<t.questions[u].options.length;y++){var m=i(s,"option",u,y);e.querySelector(c).innerHTML+='<div id="'+m+'" class="'+i(s,"option")+'"></div>';var d=document.getElementById(m),h=i(s,"response",u),v=i(s,"response",u,y),f=document.createElement("label");f.setAttribute("class",s+"-text"),f.innerHTML=t.questions[u].options[y],f.setAttribute("for",v);var g=document.createElement("input");g.setAttribute("type","checkbox"),g.setAttribute("name",h),g.setAttribute("id",v),g.setAttribute("value",t.questions[u].options[y]),d.appendChild(f),d.insertBefore(g,f)}}a.innerHTML+='<div class="fail-message"></div>',a.innerHTML+='<input type="submit" id="'+s+'-next" class="'+s+' jspsych-btn"'+(t.button_label?' value="'+t.button_label+'"':"")+"></input>",a.addEventListener("submit",function(r){r.preventDefault();for(var i=(new Date).getTime()-b,n=e.querySelectorAll("div."+s+"-question"),l={},a=[],o=0;o<n.length;o++){match=n[o];for(var u=[],p=match.querySelectorAll("input[type=checkbox]:checked"),c=0;c<p.length;c++)currentChecked=p[c],u.push(currentChecked.value);var y={};y["Q"+o]=u,Object.assign(l,y),0==u.length?a.push(!1):a.push(!0)}if(t.required&&a.includes(!1)){p=e.querySelectorAll("input[type=checkbox]");e.querySelector(".fail-message").innerHTML='<span style="color: red;" class="required">'+t.required_msg+"</span>"}else{var m={rt:i,responses:JSON.stringify(l)};e.innerHTML="",jsPsych.finishTrial(m)}});var b=(new Date).getTime()},e}();